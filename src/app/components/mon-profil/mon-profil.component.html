<div class="container-xl px-4 mt-4">

    <div class="row">
        <div class="col-xl-4">
            <div class="photo">
                <div class="card mb-4 mb-xl-0">
                    <div class="card-header">Profile Picture</div>
                    <div class="card-body text-center">
                        <img class="img-account-profile rounded-circle mb-2" *ngIf="dbImage==null"
                            src="../../assets/images/profil.jpg" title="Change picture" (click)="openModal(UpdatePic)">
                        <img class="img-account-profile rounded-circle mb-2" *ngIf="dbImage!=null" [src]="dbImage"
                            title="Change picture">
                        <button class="button" (click)="openModal(UpdatePic)" type="button">Upload new image</button>
                    </div>
                </div>
            </div>

        </div>
        <div class="col-xl-8" >
            <div class="card mb-4" *ngIf="exist==true">
                <div class="card-header">Account Details</div>
                <div class="card-body">
                    <form>
                        <div class="row gx-3 mb-3">
                            <div class="col-md-6">

                                <label class="small mb-1" for="inputUsername">Nom</label>
                                <span class="form-control" id="inputUsername" type="text"
                                    placeholder="Enter your username">{{currentUser.nom}}</span>
                            </div>
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputFirstName">Prenom</label>
                                <span class="form-control" id="inputFirstName" type="text"
                                    placeholder="Enter your first name">{{currentUser.prenom}}</span>
                            </div>
                        </div>
                        <div class="row gx-3 mb-3">
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputOrgName">Numéro de mobile</label>
                                <span class="form-control" id="inputOrgName" type="text"
                                    placeholder="Enter your organization name">{{currentUser.numTel}}</span>
                            </div>
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputLastName">Email</label>
                                <span class="form-control" id="inputLastName" type="text"
                                    placeholder="Enter your last name">{{currentUser.email}}</span>
                            </div>
                        </div>
                        <div class="row gx-3 mb-3">
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputLocation">Biographie</label>
                                <span class="form-control" id="inputLocation" type="text"
                                    placeholder="Enter your location">{{currentUser['enseignant']['biography']}}</span>
                            </div>
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputPhone">Spécialite</label>
                                <span class="form-control" id="inputPhone" type="tel"
                                    placeholder="Enter your phone number">{{currentUser.enseignant.specialite}}</span>
                            </div>
                        </div>

                        <button class="button" type="button" (click)="showBasicDialog()"><i
                                class="fa fa-pencil-square-o" aria-hidden="true"></i>Modifier</button>

                    </form>
                </div>
            </div>
        </div>

    
    </div>

</div>
<app-update-profil-dialog [displayBasic]="displayBasic" [profileFormUser]="profileFormUser" [submittedUpdate]="submittedUpdate" 
(onChangeValues)="getNewData($event)" (onCloseDialog)="onCloseDialog()"></app-update-profil-dialog>

<ng-template #UpdatePic>
    <div class="modal-body text-center">
        <p class="formTitle">Update profile picture</p>
        <form class="formLength" name="updateUserPic">
            <input type="file" class="form-control" (change)="onImageUpload($event)" accept="image/*" />

            <div *ngIf="url!=null">
                <img class=" UpdateProfilePic" [src]="url">

            </div>


            <button type="button" *ngIf="dbImage==null" (click)="imageUploadAction()"
                class="form_submit_button button">Add</button>
            <button type="button" *ngIf="dbImage!=null" (click)="imageUploadAction()"
                class="btn btn-success">Update</button>
            <button type="button" class="btn btn-danger" style="margin-left: 15px;"
                (click)="resetAddForm()">Cancel</button>

        </form>
    </div>
</ng-template>